<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预订服务 - 旅游资讯平台</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/booking.css">
</head>
<body>
    <div id="booking">
        <header class="header">
            <nav class="nav">
                <div class="logo">
                    <i class="fas fa-globe-asia"></i>
                    <span>旅游资讯</span>
                </div>
                <div class="nav-links">
                    <a href="../index.html" class="nav-link">
                        <i class="fas fa-home"></i>
                        返回首页
                    </a>
                    <a href="user-center.html" class="nav-link">
                        <i class="fas fa-user"></i>
                        个人中心
                    </a>
                </div>
            </nav>
        </header>

        <main class="main-content">
            <el-card class="booking-section">
                <div slot="header">
                    <h2><i class="fas fa-calendar-check"></i> 预订服务</h2>
                </div>

                <el-form :model="bookingForm" 
                         :rules="bookingRules"
                         ref="bookingForm" 
                         label-width="100px" 
                         class="booking-form">
                    <el-tabs v-model="bookingType" type="border-card">
                        <!-- 酒店预订 -->
                        <el-tab-pane label="酒店预订" name="hotel">
                            <el-form-item label="酒店名称" prop="name">
                                <el-input v-model="bookingForm.name" placeholder="请输入酒店名称"></el-input>
                            </el-form-item>
                            <el-form-item label="入住日期" prop="checkIn">
                                <el-date-picker v-model="bookingForm.checkIn" type="date" 
                                    :picker-options="pickerOptions"></el-date-picker>
                            </el-form-item>
                            <el-form-item label="退房日期" prop="checkOut">
                                <el-date-picker v-model="bookingForm.checkOut" type="date"
                                    :picker-options="pickerOptions"></el-date-picker>
                            </el-form-item>
                            <el-form-item label="房间类型" prop="roomType">
                                <el-select v-model="bookingForm.roomType">
                                    <el-option label="单人间" value="single"></el-option>
                                    <el-option label="双人间" value="double"></el-option>
                                    <el-option label="套房" value="suite"></el-option>
                                </el-select>
                            </el-form-item>
                        </el-tab-pane>

                        <!-- 交通预订 -->
                        <el-tab-pane label="交通预订" name="transport">
                            <el-form-item label="出发城市" prop="departCity">
                                <el-input v-model="bookingForm.departCity" placeholder="请输入出发城市"></el-input>
                            </el-form-item>
                            <el-form-item label="目的城市" prop="arriveCity">
                                <el-input v-model="bookingForm.arriveCity" placeholder="请输入目的城市"></el-input>
                            </el-form-item>
                            <el-form-item label="出发日期" prop="departDate">
                                <el-date-picker v-model="bookingForm.departDate" type="date"
                                    :picker-options="pickerOptions"></el-date-picker>
                            </el-form-item>
                            <el-form-item label="交通方式" prop="transportType">
                                <el-select v-model="bookingForm.transportType">
                                    <el-option label="火车" value="train"></el-option>
                                    <el-option label="飞机" value="plane"></el-option>
                                    <el-option label="大巴" value="bus"></el-option>
                                </el-select>
                            </el-form-item>
                        </el-tab-pane>

                        <!-- 门票预订 -->
                        <el-tab-pane label="门票预订" name="ticket">
                            <el-form-item label="景点名称" prop="scenicName">
                                <el-input v-model="bookingForm.scenicName" placeholder="请输入景点名称"></el-input>
                            </el-form-item>
                            <el-form-item label="游玩日期" prop="visitDate">
                                <el-date-picker v-model="bookingForm.visitDate" type="date"
                                    :picker-options="pickerOptions"></el-date-picker>
                            </el-form-item>
                            <el-form-item label="门票类型" prop="ticketType">
                                <el-select v-model="bookingForm.ticketType">
                                    <el-option label="成人票" value="adult"></el-option>
                                    <el-option label="儿童票" value="child"></el-option>
                                    <el-option label="学生票" value="student"></el-option>
                                </el-select>
                            </el-form-item>
                            <el-form-item label="购票数量" prop="ticketCount">
                                <el-input-number v-model="bookingForm.ticketCount" :min="1" :max="10"></el-input-number>
                            </el-form-item>
                        </el-tab-pane>
                    </el-tabs>

                    <div class="price-preview" v-if="currentPrice > 0">
                        <span class="price-label">预计费用：</span>
                        <span class="price-amount">{{priceText}}</span>
                    </div>

                    <el-form-item label="支付方式">
                        <el-radio-group v-model="bookingForm.paymentMethod">
                            <el-radio label="wechat">
                                <i class="fab fa-weixin"></i> 微信支付
                            </el-radio>
                            <el-radio label="alipay">
                                <i class="fab fa-alipay"></i> 支付宝
                            </el-radio>
                        </el-radio-group>
                    </el-form-item>

                    <el-form-item>
                        <el-button type="primary" 
                                   @click="handleBooking" 
                                   :loading="loading">
                            提交预订
                        </el-button>
                        <el-button @click="resetBookingForm">重置</el-button>
                    </el-form-item>
                </el-form>
            </el-card>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../js/booking.js"></script>
</body>
</html> 
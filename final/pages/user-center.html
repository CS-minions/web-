<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人中心 - 旅游资讯平台</title>
    <!-- Element UI -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div id="userCenter">
        <header class="header animate__animated animate__fadeIn">
            <nav class="nav">
                <div class="logo">
                    <i class="fas fa-globe-asia"></i> 旅游资讯
                </div>
                <div class="nav-links">
                    <a href="../index.html">
                        <i class="fas fa-home"></i> 返回首页
                    </a>
                </div>
            </nav>
        </header>

        <main class="main-content">
            <el-row :gutter="20">
                <!-- 左侧导航 -->
                <el-col :span="6">
                    <el-card class="user-info animate__animated animate__fadeInLeft">
                        <div slot="header">
                            <h2><i class="fas fa-user-circle"></i> 个人信息</h2>
                        </div>
                        <div class="info-content">
                            <el-avatar :size="100" icon="el-icon-user-solid"></el-avatar>
                            <h3>{{ currentUser.username }}</h3>
                            <el-button type="primary" @click="editProfile" plain>
                                编辑资料
                            </el-button>
                        </div>
                    </el-card>
                </el-col>

                <!-- 右侧内容 -->
                <el-col :span="18">
                    <el-tabs type="border-card" class="animate__animated animate__fadeInRight">
                        <el-tab-pane>
                            <span slot="label"><i class="fas fa-list"></i> 预订历史</span>
                            <el-timeline>
                                <el-timeline-item
                                    v-for="order in bookingHistory"
                                    :key="order.id"
                                    :timestamp="order.createTime"
                                    :type="getOrderStatusType(order.status)">
                                    <el-card>
                                        <h4>订单号：{{ order.id }}</h4>
                                        <p>预订类型：{{ order.type }}</p>
                                        <p>预订项目：{{ order.details.name }}</p>
                                        <p>金额：¥{{ order.amount }}</p>
                                        <p>状态：
                                            <el-tag :type="getOrderStatusType(order.status)">
                                                {{ order.status }}
                                            </el-tag>
                                        </p>
                                        <el-button 
                                            size="small"
                                            type="primary"
                                            @click="viewOrderDetail(order)">
                                            查看详情
                                        </el-button>
                                    </el-card>
                                </el-timeline-item>
                            </el-timeline>
                        </el-tab-pane>

                        <el-tab-pane>
                            <span slot="label"><i class="fas fa-history"></i> 浏览历史</span>
                            <el-card v-for="item in viewHistory"
                                    :key="item.id"
                                    class="view-item">
                                <h3>{{ item.name }}</h3>
                                <p>{{ item.description }}</p>
                                <p class="view-time">
                                    <i class="fas fa-clock"></i> {{ item.viewTime }}
                                </p>
                            </el-card>
                        </el-tab-pane>
                    </el-tabs>
                </el-col>
            </el-row>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../js/user-center.js"></script>
</body>
</html> 